# 环境变量配置指南

为确保您的应用在部署环境中正常工作，请配置以下环境变量。

## 必需的环境变量

| 环境变量 | 描述 | 示例 |
|---------|------|------|
| `DATABASE_URL` | PostgreSQL数据库连接字符串 | `postgresql://user:password@host:port/dbname` |
| `NODE_ENV` | 运行环境（应设置为production） | `production` |
| `SESSION_SECRET` | 用于会话加密的密钥 | `your-secure-session-secret` |

## API密钥（根据需要配置）

| 环境变量 | 描述 | 获取方式 |
|---------|------|---------|
| `GEMINI_API_KEY` | Google Gemini API密钥 | [Google AI Studio](https://ai.google.dev/) |
| `DIFY_API_KEY` | Dify API密钥 | [Dify.AI](https://dify.ai/) |
| `DEEPSEEK_API_KEY` | DeepSeek API密钥 | [DeepSeek官网](https://deepseek.ai/) |
| `GROK_API_KEY` | Grok API密钥 | [xAI官网](https://www.x.ai/) |
| `SERPER_API_KEY` | Serper搜索API密钥 | [Serper.dev](https://serper.dev/) |

## 存储配置

| 环境变量 | 描述 | 示例 |
|---------|------|------|
| `STORAGE_MODE` | 存储模式（db或file） | `db` |
| `REPLIT_OBJECT_STORAGE` | Replit对象存储配置 | 自动设置 |

## 部署中配置环境变量的方法

1. 在Replit界面中，点击左侧的"Tools"菜单
2. 选择"Secrets"
3. 添加上述环境变量
   - 点击"New Secret"
   - 输入环境变量名称和值
   - 点击"Add Secret"

## 重要说明

- 生产环境一定要使用`db`作为存储模式，而不是`file`
- 所有密钥都应保持私密，不要将它们提交到代码仓库中
- 如果更改了存储模式，请确保先将现有数据迁移到新的存储系统