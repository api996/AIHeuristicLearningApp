# 生产环境部署指南

## 简单两步构建与部署

### 步骤 1: 构建前端

```bash
node build-frontend.js
```

这个命令会：
- 清理旧的构建文件
- 使用Vite构建优化的前端资源
- 将所有静态资源放入`dist/public`目录

### 步骤 2: 启动生产服务器

```bash
node production.js
```

这个命令会：
- 在端口5001上启动生产服务器
- 使用数据库进行会话存储
- 使用数据库进行记忆存储
- 提供构建好的前端资源

## 注意事项

1. 生产服务器使用端口5001，避免与开发服务器冲突
2. 所有ESM/CommonJS模块冲突已在启动脚本中解决
3. 记忆系统使用数据库存储，无需额外配置

## 自动化部署

Replit部署配置已更新，可以直接点击"Deploy"按钮进行部署。

## 验证部署

部署后，您可以通过以下URL访问应用：
- `https://[your-repl-name].replit.app`