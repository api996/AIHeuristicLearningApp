/*
 * iPad特定修复样式
 * 修复高级提示词模板管理在iPad上无法正常滚动的问题
 */

/* 为整个模板编辑器添加触摸滚动支持 */
.admin-template-editor {
  -webkit-overflow-scrolling: touch;
  min-height: 100vh;
  overflow-y: auto !important; /* 强制允许整体滚动 */
  height: 100vh; /* 设置明确的高度 */
  overscroll-behavior-y: contain; /* 防止滚动穿透 */
}

/* iPad设备特定滚动修复 */
.ipad-device .min-h-screen, 
.tablet-device .min-h-screen {
  height: 100vh;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* 修复iPad上的网格布局 */
.admin-template-editor-grid {
  display: grid;
  min-height: 0;  /* 确保网格不会超出其容器 */
  padding-bottom: 20px; /* 增加底部内边距 */
}

/* 提高模板编辑卡片的滚动可靠性 */
.template-editor-card {
  display: flex;
  flex-direction: column;
  height: auto; /* 自适应高度而不是固定高度 */
  overflow: visible; /* 允许内容正常显示 */
}

/* 确保内容区域可以正常滚动 */
.template-editor-content {
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
  flex: 1;
  padding: 1rem;
  max-height: 50vh; /* 限制编辑内容区域的最大高度，允许页面整体滚动 */
}

/* 提升文本区域的可用性 */
.template-textarea-container {
  position: relative;
  min-height: 200px;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}

.template-textarea {
  width: 100%;
  min-height: 200px;
  resize: vertical;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
  overscroll-behavior: contain;
  font-family: monospace;
}

/* 修复iPad和手机上的标签显示问题 */
.ipad-device [data-orientation="vertical"] > [role="tablist"],
.tablet-device [data-orientation="vertical"] > [role="tablist"],
.iphone-device [data-orientation="vertical"] > [role="tablist"],
.mobile-device [data-orientation="vertical"] > [role="tablist"] {
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  border-right: 1px solid #333 !important;
  padding-right: 0.5rem !important;
  margin-bottom: 1rem !important;
  height: auto !important;
}

/* 确保标签触发器具有正确的外观 */
.ipad-device [role="tablist"] [role="tab"],
.tablet-device [role="tablist"] [role="tab"],
.iphone-device [role="tablist"] [role="tab"],
.mobile-device [role="tablist"] [role="tab"] {
  white-space: nowrap !important;
  padding: 0.5rem !important;
  border-radius: 0.25rem !important;
  display: flex !important;
  align-items: center !important;
  margin-bottom: 0.25rem !important;
  max-width: 100% !important;
  width: 100% !important;
  text-align: left !important;
  justify-content: flex-start !important;
}

/* 针对iOS Safari浏览器的特定修复 */
@supports (-webkit-touch-callout: none) {
  .template-editor-content,
  .template-textarea {
    /* iOS Safari特定修复 */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: none;
    touch-action: manipulation;
  }
}