/* iPad和移动设备特定的全局修复样式 */

/* 修复iPad特有的滚动和布局问题 */
.ios-device {
  /* 修复滚动弹性和动量 */
  -webkit-overflow-scrolling: touch;
  
  /* 修复字体渲染 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 修复iPad上的标签式导航 */
.ios-device .tab-navigation {
  display: flex;
  flex-direction: row !important;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* 修复iPad上的布局问题 */
@media (min-width: 768px) and (max-width: 1024px) {
  /* 修复CSS网格在iPad上的显示 */
  .grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)) !important;
  }
  
  /* 修复标签控件的垂直渲染问题 */
  .tabs-list {
    display: flex !important;
    flex-direction: row !important;
    width: 100% !important;
  }
  
  /* 修复标签页内容容器 */
  .tabs-content {
    display: block !important;
    width: 100% !important;
    height: auto !important;
  }
  
  /* 修复标签页触发器 */
  .tabs-trigger {
    flex: none !important;
    width: auto !important;
    writing-mode: horizontal-tb !important;
  }
  
  /* 修复标签页容器 */
  .ios-device .tabs {
    flex-direction: column !important;
    height: auto !important;
  }
}

/* 横屏模式特定修复 */
@media (orientation: landscape) and (max-width: 1180px) {
  /* 修复导航栏在横屏模式下的高度 */
  .header, .navbar {
    max-height: 60px;
  }
  
  /* 优化卡片布局 */
  .card-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}

/* 竖屏模式特定修复 */
@media (orientation: portrait) and (max-width: 1024px) {
  /* 优化卡片布局 */
  .card-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* 修复iOS上的虚拟键盘交互问题 */
@supports (-webkit-touch-callout: none) {
  /* 键盘打开时的布局修复 */
  .keyboard-open {
    height: -webkit-fill-available;
  }
  
  /* 防止iOS缩放问题 */
  input, select, textarea {
    font-size: 16px !important;
  }
}

/* 修复iPad上的拖拽交互 */
.drag-handle {
  -webkit-user-select: none;
  user-select: none;
  cursor: grab;
  touch-action: none;
}

/* 修复iOS上的滚动容器 */
.scroll-view {
  -webkit-overflow-scrolling: touch !important;
  overflow-y: auto !important;
}

/* 修复在iOS上的文本选择 */
.selectable-text {
  -webkit-user-select: text;
  user-select: text;
}