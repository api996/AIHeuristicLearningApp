/* 全局图标大小控制 - 强制修复 */
.icon-size-fix {
  width: 1em !important;
  height: 1em !important;
  font-size: inherit !important;
  max-width: 24px !important;
  max-height: 24px !important;
}

/* 确保所有lucide图标使用合理的大小 - 强制最大尺寸限制 */
svg[data-lucide] {
  width: 1em !important;
  height: 1em !important;
  font-size: inherit !important;
  max-width: 24px !important; 
  max-height: 24px !important;
}

/* 修复所有SVG图标尺寸 - 全局兜底方案 */
svg {
  max-width: 24px !important;
  max-height: 24px !important;
}

/* 最高优先级全局图标修复规则 */
body svg[width="24"],
body svg[height="24"] {
  width: 20px !important;
  height: 20px !important;
}

body svg[width="20"],
body svg[height="20"] {
  width: 18px !important;
  height: 18px !important;
}

/* 为Lucide图标添加更强的修复 */
svg.lucide,
.lucide svg {
  width: 1em !important;
  height: 1em !important;
  font-size: inherit !important;
  max-width: 20px !important; 
  max-height: 20px !important;
}

/* iPad和iPhone上特定修复大图标问题 */
.ipad-device button svg,
.tablet-device button svg,
.iphone-device button svg,
.mobile-device button svg,
.ipad-device [role="button"] svg,
.tablet-device [role="button"] svg,
.iphone-device [role="button"] svg,
.mobile-device [role="button"] svg {
  width: 18px !important;
  height: 18px !important;
  max-width: 18px !important;
  max-height: 18px !important;
  transform: scale(0.9) !important;
}

/* 修复消息页面图标 */
.ipad-device .message-actions svg,
.tablet-device .message-actions svg,
.iphone-device .message-actions svg, 
.mobile-device .message-actions svg {
  width: 16px !important;
  height: 16px !important;
}

/* 修复底部导航栏图标 */
.ipad-device footer svg,
.tablet-device footer svg,
.iphone-device footer svg,
.mobile-device footer svg,
.ipad-device .bottom-bar svg,
.tablet-device .bottom-bar svg,
.iphone-device .bottom-bar svg,
.mobile-device .bottom-bar svg {
  width: 20px !important;
  height: 20px !important;
}

/* 修复侧边栏图标 */
.ipad-device .sidebar svg,
.tablet-device .sidebar svg,
.iphone-device .sidebar svg,
.mobile-device .sidebar svg,
.ipad-device aside svg,
.tablet-device aside svg,
.iphone-device aside svg,
.mobile-device aside svg,
.ipad-device nav svg,
.tablet-device nav svg,
.iphone-device nav svg,
.mobile-device nav svg {
  width: 18px !important;
  height: 18px !important;
}

/* 修复头部导航图标 */
.ipad-device header svg,
.tablet-device header svg,
.iphone-device header svg,
.mobile-device header svg {
  width: 18px !important;
  height: 18px !important;
}

/* 修复首页和聊天相关页面图标 */
.ipad-device .home-page svg,
.tablet-device .home-page svg,
.iphone-device .home-page svg,
.mobile-device .home-page svg,
.ipad-device .chat-page svg,
.tablet-device .chat-page svg,
.iphone-device .chat-page svg,
.mobile-device .chat-page svg {
  width: 16px !important;
  height: 16px !important;
  font-size: 16px !important;
}

/* 特别针对用户消息页的专项修复 */
.ipad-device .user-message-card svg,
.tablet-device .user-message-card svg,
.iphone-device .user-message-card svg,
.mobile-device .user-message-card svg,
.ipad-device .user-message svg, 
.tablet-device .user-message svg,
.iphone-device .user-message svg,
.mobile-device .user-message svg {
  width: 16px !important;
  height: 16px !important;
  font-size: 16px !important;
}

/* 全局分类应用样式 - 兜底修复 */
.ipad-device .lucide,
.ipad-device .lucide-icon,
.tablet-device .lucide,
.tablet-device .lucide-icon,
.iphone-device .lucide,
.iphone-device .lucide-icon, 
.mobile-device .lucide,
.mobile-device .lucide-icon {
  width: 16px !important;
  height: 16px !important;
  font-size: 16px !important;
  max-width: 16px !important;
  max-height: 16px !important;
}

/* 恢复正常大小的图标 */
.standard-icon {
  width: 16px !important;
  height: 16px !important;
}

.large-icon {
  width: 24px !important;
  height: 24px !important;
}

.small-icon {
  width: 14px !important;
  height: 14px !important;
}

/* 修复特定的图标容器 */
.icon-container svg {
  width: 100% !important;
  height: 100% !important;
}

/* 针对不同设备和屏幕尺寸的图标大小调整 */
@media screen and (max-width: 768px) {
  button svg,
  a[role="button"] svg {
    max-width: 20px;
    max-height: 20px;
  }
}

/* 确保图标在大屏设备上不会过小 */
@media screen and (min-width: 1024px) {
  button svg,
  a[role="button"] svg {
    min-width: 16px;
    min-height: 16px;
  }
}